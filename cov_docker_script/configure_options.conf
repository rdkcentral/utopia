# Utopia Configure Options
# This file contains autotools configure options for the utopia component
# Each section can be edited independently for better maintainability

# ============================================================================
# NOTE: Pre-build setup commands are defined in component_config.json
# ============================================================================
# The following setup is performed automatically before build (see component_config.json):
#   - Creates libthreadutil.so linker script (redirects to libupnp)
#   - Creates placeholder dbus-1.0/include directory (workaround for Makefile.am syntax issue)

# ============================================================================
# CPPFLAGS - Preprocessor flags (includes and defines)
# ============================================================================
[CPPFLAGS]
# Autotools configuration
-DHAVE_CONFIG_H

# Include paths
-I$HOME/usr/include/rdkb/
-I/usr/include/tirpc
-I/usr/include/dbus-1.0
-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include
-I${PKG_CONFIG_SYSROOT_DIR}$(libdir)/dbus-1.0/include

# Standard defines
-DSC_POSIX_SEM
-DSET_REPLY_REQUIRED
-DIPV6=1

# Core system defines
-DSAFEC_DUMMY_API
-DUSE_SYSCFG
-DSE_SERVER_CODE_DEBUG
-DREDIRECT_CODE_DEBUG
-DMTA_TR104SUPPORT
-D_COSA_HAL_
-U_COSA_SIM_
-DCONFIG_SYSTEM_MOCA

# ANSC framework defines
-D_ANSC_LINUX
-D_ANSC_USER
-D_ANSC_LITTLE_ENDIAN_
-D_ANSC_USE_OPENSSL_
-D_ANSC_AES_USED_
-D_NO_ANSC_ZLIB_
-U_ANSC_IPV6_COMPATIBLE_

# CCSP/Component defines
-D_CCSP_CWMP_TCP_CONNREQ_HANDLER
-D_DSLH_STUN_
-D_NO_PKI_KB5_SUPPORT
-D_BBHM_SSE_FILE_IO
-DCCSP_SUPPORT_ENABLED

# Product/Platform defines
-D_COSA_INTEL_USG_ARM_
-D_COSA_FOR_COMCAST_
-D_COSA_BCM_ARM_
-D_XB6_PRODUCT_REQ_
-D_XB7_PRODUCT_REQ_
-D_XB8_PRODUCT_REQ_

# Vendor/Customer configuration
-DCONFIG_VENDOR_CUSTOMER_COMCAST
-DCONFIG_CISCO_HOTSPOT

# Security and debugging
-DENABLE_SA_KEY
-D_NO_EXECINFO_H_
-D_DEBUG
-DINCLUDE_BREAKPAD

# System features
-DFEATURE_SUPPORT_RDKLOG
-DFEATURE_SUPPORT_SYSLOG
-DBUILD_WEB
-DUSE_NOTIFY_COMPONENT
-DNTPD_ENABLE
-DUTC_ENABLE
-DUTC_ENABLE_ATOM
-DXDNS_ENABLE

# MoCA specific
-DMOCA_HOME_ISOLATION
-DMOCA_DIAGONISTIC

# Network features
-DENABLE_ETH_WAN
-DEROUTER_DHCP_OPTION_MTA
-DETH_4_PORTS
-D_2_5G_ETHERNET_SUPPORT_
-D_MACSEC_SUPPORT_
-D_BRIDGE_UTILS_BIN_
-DAUTOWAN_ENABLE
-DENABLE_WANMODECHANGE_NOREBOOT
-DFEATURE_RDKB_WAN_MANAGER
-DFEATURE_RDKB_CONFIGURABLE_WAN_INTERFACE
-DWAN_MANAGER_UNIFICATION_ENABLED
-DWAN_FAILOVER_SUPPORTED
-DGATEWAY_FAILOVER_SUPPORTED

# WiFi features
-D_ENABLE_BAND_STEERING_
-D_BEACONRATE_SUPPORT
-D_TRI_BAND_WIFI_
-D_WIFI_AX_SUPPORT_
-D_WIFI_CONSOLIDATED_STANDARDS_
-DWIFI_HAL_VERSION_3
-DFEATURE_SUPPORT_MESH
-DFEATURE_SUPPORT_WEBCONFIG
-DFEATURE_SUPPORT_INTERWORKING
-DFEATURE_SUPPORT_PASSPOINT
-DWIFI_STATS_DISABLE_SPEEDTEST_RUNNING
-DFEATURE_SUPPORT_RADIUSGREYLIST
-DFEATURE_SUPPORT_ACL_SELFHEAL
-DFEATURE_CSI
-DFEATURE_SUPPORT_ONBOARD_LOGGING
-DFEATURE_OFF_CHANNEL_SCAN_5G
-DRDK_ONEWIFI
-DWIFI_MANAGE_SUPPORTED
-DFEATURE_COGNITIVE_WIFIMOTION

# Matter support
-DFEATURE_MATTER_ENABLED
-DFEATURE_TAD_HEALTH_CHECK

# Advanced features
-D_PSM_TRANS_RDK_TRIGG_
-D_CM_HIGHSPLIT_SUPPORTED_
-DFEATURE_RDKB_INTER_DEVICE_MANAGER
-DFEATURE_SUPPORT_MAPT_NAT46
-DMAPT_UNIFICATION_ENABLED
-DSPEED_BOOST_SUPPORTED
-DSPEED_BOOST_SUPPORTED_V6
-DAMENITIES_NETWORK_ENABLED
-DCONFIG_BUILD_TRIGGER
-DENABLE_FEATURE_MESHWIFI
-DCORE_NET_LIB

# Test/Development
-DCOLUMBO_HWTEST

# Build system
-DRBUS_BUILD_FLAG_ENABLE

# ============================================================================
# CFLAGS - Compiler flags
# ============================================================================
[CFLAGS]

# Code generation flags
-fno-exceptions
-ffunction-sections
-fdata-sections
-fomit-frame-pointer
-fno-strict-aliasing

# Warning flags
-Wall
-Werror
-Wextra
-Wno-pointer-sign
-Wno-sign-compare
-Wno-deprecated-declarations
-Wno-type-limits
-Wno-unused-parameter
-Wno-return-local-addr
-Wno-format-overflow
-Wno-misleading-indentation
-Wno-enum-conversion
-Wno-maybe-uninitialized

# ============================================================================
# LDFLAGS - Linker flags
# ============================================================================
[LDFLAGS]
# Library paths
-L$HOME/usr/local/lib
-L$HOME/usr/local/lib/x86_64-linux-gnu
-L/usr/lib/x86_64-linux-gnu
-Wl,-rpath,$HOME/usr/local/lib/x86_64-linux-gnu
-Wl,--allow-shlib-undefined
-Wl,--unresolved-symbols=ignore-all
-Wl,--no-as-needed

# ============================================================================
# LIBS - Libraries to link
# ============================================================================
[LIBS]
# External libraries
-lrbus
-lsecure_wrapper
-ltirpc
-lupnp
-lrdkloggers
-ldbus-1
